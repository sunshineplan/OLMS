<header style='padding-left: 20px;'>
<a class='h3 title'></a>
<hr>
</header>
<div class='form'>
  {{ if eq .mode "dept" }}
  <script>
    $(function () {
      $('#dept').on('change', function () {
        init_selector('#empl', 'clear', ' -- select an employee -- ');
        show_empl('#empl', $('#dept').val());
      });
    });
  </script>
  <div class='form-row'>
    <div class='form-group'>
      <label for='dept'>Department</label>
      <select class='form-control' name='dept' id='dept' required>
        <option disabled selected value> -- select an department -- </option>
      </select>
    </div>
    <div class='form-group'>
      <label for='empl'>Employee</label>
      <select class='form-control' name='empl' id='empl' required>
        <option disabled selected value> -- select an employee -- </option>
      </select>
    </div>
  </div>
  {{ end }}
  <div class='form-group'>
    <label for='date'>Date</label>
    <input class='form-control' type='date' name='date' id='date' required>
  </div>
  <div class='form-row'>
    <div class='form-group'>
      <label for='type'>Type</label>
      <select class='form-control' name='type' id='type'>
        <option value='1'>Overtime</option>
        <option value='0'>Leave</option>
      </select>
    </div>
    <div class='form-group'>
      <label for='duration'>Duration</label>
      <input class='form-control' type='number' min=1 name='duration' id='duration' required>
    </div>
  </div>
  <div class='form-group'>
    <label for='describe'>Describe</label>
    <textarea class='form-control' name='describe' id='describe' rows='3'></textarea>
  </div>
  <button class='btn btn-primary' onclick='doRecord({{ .id }})' id='submit'>{{ if eq .id 0 }}Add{{ else }}Save{{ end }}</button>
  <button class='btn btn-primary' onclick='goback()'>Cancel</button>
</div>
{{ if ne .id 0 }}
<div class='form'>
  <button class='btn btn-danger delete' onclick="doDelete('bookmark', {{ .id }})">Delete</button>
</div>
{{ end }}
<script>$(() => record({{ .id }}));</script>
